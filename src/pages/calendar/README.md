# Страница: Календарь работ (CalendarPage)

Эта страница предоставляет интерактивный календарь для просмотра и управления проверками объектов. Она является центральным инструментом для планирования и отслеживания статуса работ.

## Описание и функциональность

Страница "Календарь работ" включает следующие ключевые элементы:

1.  **Заголовок**: "Календарь работ".
2.  **Подзаголовок**: Динамически отображает текущий месяц и год (например, "Апрель 2025"), соответствующий отображаемому диапазону календаря.
3.  **Блок фильтров**:
    * **"Статус проверки"**: Выпадающий список для фильтрации проверок по их статусу (Все, Запланировано, Ожидается, Просрочено, Проверено).
    * **"Объекты"**: Выпадающий список объектов. Его содержимое зависит от прав доступа пользователя:
        * **Оператор**: Отображаются только объекты, в которых пользователь принимает непосредственное участие.
        * **Другие роли (кроме "Гость")**: Отображается список всех объектов данного филиала.
    * **"Операторы"**: Выпадающий список операторов. Отображается только для пользователей с правами доступа, отличными от "Оператор" или "Гость". Показывает список всех операторов данного филиала.
    * **"Сбросить фильтры"**: Кнопка для сброса всех выбранных фильтров к значениям по умолчанию.
4.  **Блок навигации и вид отображения календаря**:
    * **Кнопки навигации**: "Назад", "Сегодня", "Вперёд" для перемещения по календарю (день, неделя, месяц).
    * **Кнопки вида календаря**: "Месяц", "Неделя", "День", "Повестка" для изменения формата отображения календаря. Вид "Повестка" представляет собой табличный формат с колонками "Дата", "Время", "Объект", "Оператор".
5.  **Календарь**: Основная область, отображающая блоки информации по проверке объектов:
    * Наименование объекта.
    * Время начала проверки.
    * Аватарка и ФИО оператора, который проверяет данный объект.
    * **Цветовая индикация статуса**:
        * Запланировано: Серый цвет.
        * Ожидается загрузка отчета: Желтый цвет.
        * Просрочено: Красный цвет.
        * Проверено: Зеленый цвет.
    * **Кликабельные блоки**: При нажатии на блок проверки открывается модальное окно с деталями.

## Модальное окно "Детали проверки"

При клике на событие в календаре открывается модальное окно со следующей информацией:

1.  **Заголовок**: "Детали проверки".
2.  **Кнопка "X"**: Для закрытия модального окна.
3.  **Вкладки (Табы)**:
    * **"Общая информация"**:
        * Наименование объекта.
        * Время начала проверки.
        * Статус проверки.
        * Аватар и ФИО оператора.
        * Кнопка "Перейти к заданию" для навигации на соответствующую страницу задания.
    * **"Детали"**:
        * Дополнительные детали (например, параметры проверки, повторная проверка).

## Технические детали

Страница реализована с использованием библиотеки `react-big-calendar` для отображения календаря и компонентов `@mui/material` для UI. Управление состоянием и фильтрацией данных осуществляется через кастомный хук `useCalendar` (из слоя `features`), который использует `react-query` для запросов к API.